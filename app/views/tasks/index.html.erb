<h2 >Taskleaf</h2>
<h1 >タスク一覧</h1>

<p><%= notice %></p>
<h3>タスク検索</h3>
<%= form_with(scope: :task, url: tasks_path, method: :get, local: true) do |form| %>
  <%= form.label "タスク名" %>
  <%= form.text_field :name %>
  <%= form.label "ステータス" %>
  <%= form.select :status, ["未着手","着手","完了"], include_blank: "選択して下さい" %>
  <%= submit_tag '検索する',id:'search_button' %>
<% end %>  

<table>
  <tr>
    <h2><th>名称</th></h2>
    <h2><th>詳しい説明</th></h2>
    <h2><th><%= link_to"終了期限",tasks_path(sort_expired:"true") %></th></h2>
    <h2><th>ステータス</th></h2>
    <h2><th><%= link_to"優先順位",tasks_path(sort_priority:"true") %></th></h2>
  </tr>

<% @tasks.each do |task| %>
  <tr class="task_row">
    <td><%= task.name %></td>
    <td><%= task.description %></td>
    <td><%= task.expiry_date %></td>
    <td><%= task.status %></td>
    <td><%= task.priority %></td>
    <td><%= link_to '詳細', task_path(task.id) %></td>
    <td><%= link_to '編集', edit_task_path(task.id), data: { confirm: '編集していいですか？' } %></td>
    <td><%= link_to '削除', task_path(task.id), method: :delete ,data: { confirm: '削除していいですか？' } %></td>
  </tr>
<% end %>
</table> 
<%= link_to '新規登録',new_task_path %>